# 机器字长、指令字长和存储字长

> 参考：B站-Beokayy_-我又又思考了一下存储字长、机器字长的关系
>
> 参考：王道-2023计算机组成原理考研复习指导-P203

## 1.机器字长

机器字长：CPU一次能处理的二进制代码的位数 

​					一次ALU运算能处理的数据的位数

> 学习：
>
> 机器字长不一定一次就可以读到CPU中
>
> 早期计算机中，机器字长=存储字长=指令字长，并且一个地址只能读出一个存储单元
>
> 现代计算机中，机器字长可能是存储字长的几倍，由于存储器支持（同时启动）低位交叉编址和突发传输模式，一个地址可以读出好几个存储单元，与早期计算机效果类似。
>
> 
>
> “某16位或32位机器“ = 机器字长为16bit或32bit



## 2.指令字长

指令字长：一个指令中包含二进制代码的位数

> 学习：计算机组成原理-指令系统-指令格式
>
> 指令字长，又叫指令长度 
>
> 指令字长取决于操作码的长度、操作数地址的长度和操作数地址的个数
>
> 指令字长与机器字长没有任何关系，可以大于、小于或等于
>
> ​	分类：①单字长指令：指令字长等于机器字长的指令
>
> ​				②半字长指令：指令字长等于半个机器字长的指令
>
> ​				③双字长指令：指令长度等于两个机器字长的指令
>
> 指令字长一般都取存储字长的整数倍，为了便于硬件设计



## 3.存储字长

存储字长：一个存储单元存储二进制代码的位数

> 学习：计算机组成原理-存储系统-主存储器
>
> 存储元 —> 存储单元 —> 存储体
>
> 存储单元 —> 存储字 —> 存储字长 —> 字节
>
> 存储字：一个存储单元存储二进制代码
>
> 
>
> 优先看：“字长为32位，按字边界对齐” = 存储字长为32位
>
> 其次看："按字节编址" = 存储字长为1字节
>
> 产生冲突，看优先

例题：【2016统考-18】某计算机的主存空间为4GB，字长为32位，按字节编址，采用 32位字长指令字格式。若指令按字边界对齐存放，则程序计数器（PC）和指令寄存器（IR）的位数至少分别是（**B**）

A. 30、30												B. 30、32												C. 32、30												D. 32、32

> "字长为32位"：机器字长为32位
>
> "采用 32位字长指令字格式"：指令字长为32位
>
> 本来"按字节编址"：存储字长为8位，但是"字边界对齐存放"：存储字长为32位
>
> 
>
> 程序计数器（PC）中可能存放：**字节地址** 或 **半字地址** 或 **字地址**（分别对应：按字节寻址、按半字寻址、按字寻址）
>
> 半字地址-->字节地址：逻辑左移1位
>
> ​	字地址-->字节地址：逻辑左移2位
>
> 一般情况下PC存放的是**字节地址**，本题中PC存放的是**字地址**



## 突发传输模式、（同时启动）低位交叉编址、（轮流启动/双通道）低位交叉编址：

突发传输：一个地址可以读出好几个存储单元

（同时启动）低位交叉编址：一个地址可以同时读出好几个存储单元

（轮流启动/双通道）低位交叉编址：一个地址只能读出一个存储单元，但是由于流水线技术，连续读N个地址只需T+(N-1)r



【2017年-13】某计算机按字节编址，由4个64Mx8位的DRAM芯片采用交叉编址方式构成，并与宽度为32位的存储器总线连接，主存每次最多读写32位数据。若double型变量x的主存地址为804 001AH，则读取x需要的存储周期是（**C**）

A. 1															B. 2	 														C. 3	 														D. 4

> 解：根据”计算机按字节编址“，得出存储字长为8bit。
>
> ​		根据”与宽度为32位的存储器总线连接，主存每次最多读写32位数据“，推测4个64Mx8位的DRAM芯片采用的交叉编址方式为（同时启动）低位交叉编址，即一个地址可以同时读出4个存储芯片的存储单元。
>
> ​		根据”变量x的主存地址为804 001AH“，得出该变量首个字节的地址在10B号芯片（从0开始编号），double型变量x在内存中占据连续的8个字节空间
>
> ​		因此，第一次读取2、3号芯片中的存储单元，第二次读取0、1、2、3号芯片中的存储单元，第三次读取0、1号芯片中的存储单元，总共读取3次。



## 经典问题：

CPU一次从内存中读出一个机器字长的位数？

不是一定的；

早期计算机，机器字长=存储字长=指令字长，并且一个地址只能读出一个存储单元，所以CPU一次从内存中读出位数确实等于机器字长；

现代计算机，机器字长可能是存储字长的几倍，由于存储器支持（同时启动）低位交叉编址和突发传输模式，一个地址可以读出好几个存储单元，所以CPU一次从内存中读出位数不等于机器字长。 